<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Regdem2015 by nvdb-vegdata</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Regdem2015</h1>
      <h2 class="project-tagline">Registratordemonstrator utviklet av studenter sommeren 2015</h2>
      <a href="https://github.com/nvdb-vegdata/regdem2015" class="btn">View on GitHub</a>
      <a href="https://github.com/nvdb-vegdata/regdem2015/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/nvdb-vegdata/regdem2015/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="regdem2015" class="anchor" href="#regdem2015" aria-hidden="true"><span class="octicon octicon-link"></span></a>regdem2015</h1>

<p>Registratordemonstrator 2015</p>

<h1>
<a id="installasjon" class="anchor" href="#installasjon" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installasjon</h1>

<p>Denne installasjonsguiden tar deg gjennom installasjon av regdem2015, regdem2015-server og oppsett av testmiljø.</p>

<p><strong>Innhold</strong></p>

<ol>
<li><a href="#systemkrav">Systemkrav</a></li>
<li><a href="#installasjon-av-regdem2015">Installasjon av regdem2015</a></li>
<li><a href="#installasjon-av-regdem2015-server-backend">Installasjon av regdem2015-server (backend)</a></li>
<li><a href="#testing">Testing</a></li>
</ol>

<h2>
<a id="systemkrav" class="anchor" href="#systemkrav" aria-hidden="true"><span class="octicon octicon-link"></span></a>Systemkrav</h2>

<ul>
<li>Git</li>
<li>nodejs</li>
<li>Python versjon fra versjon 2.5 til og med versjon 2.7.10 (ikke versjon 3)</li>
</ul>

<p>De fleste OS kommer med Python 2.x installert, og vil derfor ikke være nødvendig å gjøre noe mer med det. Windows kommer uten Python, og må derfor installeres på egenhånd.</p>

<h2>
<a id="installasjon-av-regdem2015" class="anchor" href="#installasjon-av-regdem2015" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installasjon av regdem2015</h2>

<p>Følg disse stegene for å laste ned, og bygge, regdem2015:</p>

<div class="highlight highlight-bash"><pre>git clone https://github.com/nvdb-vegdata/regdem2015
<span class="pl-c1">cd</span> regdem2015
npm install         <span class="pl-c"># installerer tilhørende pakker</span>
npm run build       <span class="pl-c"># bygger applikasjonen</span></pre></div>

<p>Når dette er gjort skal du få en fungerende kart ved å åpne <code>index.html</code> i nettleseren. Skrive-API vil ikke fungere på denne måten.</p>

<h4>
<a id="alternativ-kjøring" class="anchor" href="#alternativ-kj%C3%B8ring" aria-hidden="true"><span class="octicon octicon-link"></span></a>Alternativ kjøring</h4>

<p>Har du problemer med å hente data fra lese-API kan det være greit å kjøre regdem2015 på en enkel HTTP-server, uavhengig av backend-koden. Kall til skrive-API vil da ikke fungere. Dette kan gjøres ved å feks. kjøre enn enkel HTTP Server ved bruk av Python:</p>

<div class="highlight highlight-bash"><pre>python -m SimpleHTTPServer 8001</pre></div>

<p>Da kan siden aksesseres via <code>http://localhost:8001</code></p>

<h2>
<a id="installasjon-av-regdem2015-server-backend" class="anchor" href="#installasjon-av-regdem2015-server-backend" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installasjon av regdem2015-server (backend)</h2>

<p>Installasjon av Cookiemonster / backend for utviklign av regdem2015:</p>

<div class="highlight highlight-bash"><pre><span class="pl-c"># klon regdem2015-server i samme mappe som regdem (ikke inne i regdem)</span>
git clone https://github.com/nvdb-vegdata/regdem2015-server
<span class="pl-c1">cd</span> regdem2015-server
npm install                       <span class="pl-c"># installerer tilhørende pakker</span></pre></div>

<p>Deretter må du opprette en <code>config.js</code> fil under <code>./regdem2015-server</code> med følgende informasjon:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c1">module</span>.exports <span class="pl-k">=</span> {
  username<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>,
  password<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>
}</pre></div>

<p><em>notat: brukerinformasjon må ha LDAP-tilgang, og være innenfor SVV-nettverket</em></p>

<p>Før du kan kjøre opp applikasjonen må du lage et alias av regdem2015 i <code>regdem2015-server</code>-mappen. Alternativt kan du kopiere regdem2015 inn i regdem2015-server.</p>

<p><strong>For å lage alias på Unix/Linux:</strong></p>

<div class="highlight highlight-bash"><pre><span class="pl-c1">cd</span> regdem2015-server              <span class="pl-c"># pass på at du er inne i regdem2015-server mappen</span>
ln -s /<span class="pl-k">&lt;</span>path til<span class="pl-k">&gt;</span>/regdem2015 <span class="pl-c1">.</span>    <span class="pl-c"># lager alias for regdem2015 inne i regdem2015-server</span></pre></div>

<p>Server startes med kommandoen <code>node server.js</code> fra <code>./regdem2015-server</code>-mappen.</p>

<p>Serveren starter opp på port <code>8085</code>.</p>

<ul>
<li>API URL: http://localhost:8085/api</li>
<li>Regdem URL: http://localhost:8085/app</li>
</ul>

<h2>
<a id="testing" class="anchor" href="#testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing</h2>

<h3>
<a id="robohydra" class="anchor" href="#robohydra" aria-hidden="true"><span class="octicon octicon-link"></span></a>RoboHydra</h3>

<p>Robohydra benyttes som en enkel mock-server for å kunne simulere serverspørring med mock-data uten å måtte endre på produksjonskode.</p>

<p>Du trenger robohydra installert på maskinen med: <code>npm install robohydra -g</code></p>

<p>Inne i <code>./regdem2015-server</code> kjører du <code>robohydra -n -P regdem</code>. RoboHydra-severen kjører opp på port <code>3000</code>.</p>

<ul>
<li>API URL: http://localhost:3000/api</li>
<li>Regdem URL: http://localhost:3000/app</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/nvdb-vegdata/regdem2015">Regdem2015</a> is maintained by <a href="https://github.com/nvdb-vegdata">nvdb-vegdata</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

